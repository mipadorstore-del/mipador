<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jacker Starter Green - Mipador</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="productdetails2.css">
</head>

<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <div class="language-dropdown">
            <button class="language-btn" onclick="toggleLanguageMenu()">
                <i class="fas fa-globe"></i>
                <span id="currentLang">EN</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="language-menu" id="languageMenu">
                <div class="language-option" onclick="changeLanguage('en')">English</div>
                <div class="language-option" onclick="changeLanguage('fr')">Fran√ßais</div>
                <div class="language-option" onclick="changeLanguage('ar')">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <div class="product-grid">
            <!-- Product Gallery -->
            <div class="product-gallery">
                <div class="main-image-container" onclick="openZoom(0)">
                    <img class="main-image" id="mainImage" src="images/jacker-starter-green-1.jpg"
                        alt="Jacker Starter Green">
                    <div class="zoom-hint">
                        <i class="fas fa-search-plus"></i>
                        <span data-translate="clickToZoom">Click to zoom</span>
                    </div>
                </div>

                <div class="thumbnail-gallery" id="thumbnailGallery">
                    <div class="thumbnail active" onclick="changeMainImage(this, 0)"
                        data-src="images/jacker-starter-green-1.jpg">
                        <img src="images/jacker-starter-green-1.jpg" alt="Front View">
                    </div>
                    <div class="thumbnail" onclick="changeMainImage(this, 1)"
                        data-src="images/jacker-starter-green-2.jpg">
                        <img src="images/jacker-starter-green-2.jpg" alt="Side View">
                    </div>
                    <div class="thumbnail" onclick="changeMainImage(this, 2)"
                        data-src="images/jacker-starter-green-3.jpg">
                        <img src="images/jacker-starter-green-3.jpg" alt="Back View">
                    </div>
                </div>
            </div>

            <!-- Product Details -->
            <div class="product-details">
                <h1 class="product-title" data-translate="productTitle">Jacker Starter Green</h1>
                <div class="product-price">350 MAD</div>

                <div class="urgency-banner">
                    <i class="fas fa-fire"></i>
                    <span data-translate="urgencyText">Hurry! Only 12 pieces left in stock!</span>
                </div>

                <div class="viewers-count">
                    <i class="fas fa-eye"></i>
                    <span data-translate="viewersText">7 people are viewing this right now</span>
                </div>

                <p class="product-description" data-translate="productDescription">
                    Step into the game with our Jacker Starter Green jacket. Featuring a bold billiard-themed back
                    design, this jacket blends style and comfort, ideal for casual outings and pool hall vibes.
                </p>

                <!-- Size Selector -->
                <div class="selector-section">
                    <h5 class="selector-title" data-translate="sizeLabel">Size</h5>
                    <div class="size-selector">
                        <div class="size-option" onclick="selectSize(this)">S</div>
                        <div class="size-option" onclick="selectSize(this)">M</div>
                        <div class="size-option active" onclick="selectSize(this)">L</div>
                        <div class="size-option" onclick="selectSize(this)">XL</div>
                        <div class="size-option" onclick="selectSize(this)">XXL</div>
                    </div>
                </div>

                <!-- Color Selector -->
                <div class="selector-section">
                    <h5 class="selector-title" data-translate="colorLabel">Color</h5>
                    <div class="color-selector">
                        <div class="color-option color-dark-green active" onclick="selectColor(this)" data-color="green"
                            title="Forest Green"></div>
                    </div>
                </div>

                <!-- Bundle Offers -->
                <div class="bundle-offers">
                    <h5 class="bundle-title" data-translate="bundleTitle">üéÅ Special Offers üéÅ</h5>

                    <div class="bundle-option active" onclick="selectBundle(this)" data-price="350" data-quantity="1">
                        <div class="bundle-content">
                            <span data-translate="bundle1">Buy 1 for 350 MAD + Free Shipping</span>
                            <span class="bundle-price">350 MAD</span>
                        </div>
                    </div>

                    <div class="bundle-option" onclick="selectBundle(this)" data-price="660" data-quantity="2">
                        <div class="bundle-content">
                            <span data-translate="bundle2">Buy 2 for 660 MAD + Free Shipping üéÅ</span>
                            <div>
                                <span class="bundle-price">660 MAD</span>
                                <span class="bundle-savings" data-translate="save60">Save 60 MAD</span>
                            </div>
                        </div>
                    </div>

                    <div class="bundle-option" onclick="selectBundle(this)" data-price="960" data-quantity="3">
                        <div class="bundle-content">
                            <span data-translate="bundle3">Buy 3 for 960 MAD + Free Shipping üéÅ</span>
                            <div>
                                <span class="bundle-price">960 MAD</span>
                                <span class="bundle-savings" data-translate="save120">Save 120 MAD</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Form -->
                <div class="order-form">
                    <h5 class="form-title" data-translate="orderTitle">Complete Your Order</h5>
                    <div id="orderForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label" data-translate="nameLabel">Full Name</label>
                                <input type="text" class="form-input" id="fullName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-translate="phoneLabel">Phone Number</label>
                                <input type="tel" class="form-input" id="phone" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-translate="cityLabel">City</label>
                                <input type="text" class="form-input" id="city" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-translate="addressLabel">Address</label>
                                <input type="text" class="form-input" id="address" required>
                            </div>
                        </div>

                        <button type="button" class="order-btn" id="orderBtn" onclick="submitOrder()">
                            <i class="fas fa-shopping-cart"></i>
                            <span data-translate="orderButton">Order Now - 350 MAD</span>
                        </button>
                    </div>
                </div>

                <!-- Specifications -->
                <div class="specs-section">
                    <h5 class="selector-title" data-translate="specsTitle">Product Specifications</h5>
                    <ul class="specs-list">
                        <li class="specs-item">
                            <span class="spec-label" data-translate="materialLabel">Material</span>
                            <span class="spec-value" data-translate="materialValue">Wool Blend with Leather
                                Sleeves</span>
                        </li>
                        <li class="specs-item">
                            <span class="spec-label" data-translate="featuresLabel">Features</span>
                            <span class="spec-value" data-translate="featuresValue">Billiard-Themed Back,
                                Lightweight</span>
                        </li>
                        <li class="specs-item">
                            <span class="spec-label" data-translate="careLabel">Care</span>
                            <span class="spec-value" data-translate="careValue">Dry Clean Only</span>
                        </li>
                        <li class="specs-item">
                            <span class="spec-label" data-translate="warrantyLabel">Warranty</span>
                            <span class="spec-value" data-translate="warrantyValue">1 Year Limited</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Zoom Modal -->
    <div class="zoom-modal" id="zoomModal" onclick="closeZoom(event)">
        <div class="zoom-container">
            <img class="zoom-image" id="zoomImage" alt="Zoomed product image">
            <div class="zoom-controls">
                <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">
                    <i class="fas fa-close"></i>
                </button>
            </div>
            <div class="zoom-counter" id="zoomCounter">1 / 3</div>
        </div>
    </div>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="container">
            <div class="d-flex justify-content-center" data-aos="fade-right" data-aos-duration="1000">
                <img src="images/logofooter.png" alt="Mipador Logo" class="footer-logo img-fluid" />
            </div>
            <div class="d-flex justify-content-center border-top border-light pt-4 mt-4">
                <p class="text-light-custom text-center mb-0">
                    ¬©2025 Mipador - Made to move free ü™Ω
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Global variables
        let currentImageIndex = 0;
        let zoomLevel = 1;
        let translateX = 0;
        let translateY = 0;
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let selectedBundle = { price: 350, quantity: 1 };

        // Product images array
        const productImages = [
            { src: "images/jacker-starter-green-1.jpg", alt: "Front View" },
            { src: "images/jacker-starter-green-2.jpg", alt: "Side View" },
            { src: "images/jacker-starter-green-3.jpg", alt: "Back View" }
        ];

        // Translations (Updated for new product)
        const translations = {
            en: {
                productTitle: "Jacker Starter Green",
                urgencyText: "Hurry! Only 12 pieces left in stock!",
                viewersText: "7 people are viewing this right now",
                productDescription: "Step into the game with our Jacker Starter Green jacket. Featuring a bold billiard-themed back design, this jacket blends style and comfort, ideal for casual outings and pool hall vibes.",
                sizeLabel: "Size",
                colorLabel: "Color",
                bundleTitle: "üéÅ Special Offers üéÅ",
                bundle1: "Buy 1 for 350 MAD + Free Shipping",
                bundle2: "Buy 2 for 660 MAD + Free Shipping üéÅ",
                bundle3: "Buy 3 for 960 MAD + Free Shipping üéÅ",
                save60: "Save 60 MAD",
                save120: "Save 120 MAD",
                orderTitle: "Complete Your Order",
                nameLabel: "Full Name",
                phoneLabel: "Phone Number",
                cityLabel: "City",
                addressLabel: "Address",
                orderButton: "Order Now - 350 MAD",
                specsTitle: "Product Specifications",
                materialLabel: "Material",
                materialValue: "Wool Blend with Leather Sleeves",
                featuresLabel: "Features",
                featuresValue: "Billiard-Themed Back, Lightweight",
                careLabel: "Care",
                careValue: "Dry Clean Only",
                warrantyLabel: "Warranty",
                warrantyValue: "1 Year Limited",
                clickToZoom: "Click to zoom"
            },
            fr: {
                productTitle: "Veste Jacker Starter Verte",
                urgencyText: "D√©p√™chez-vous! Il ne reste que 12 pi√®ces en stock!",
                viewersText: "7 personnes regardent ceci en ce moment",
                productDescription: "Entrez dans le jeu avec notre veste Jacker Starter Verte. Dot√©e d'un design audacieux √† th√®me de billard au dos, cette veste allie style et confort, id√©ale pour les sorties d√©contract√©es et l'ambiance des salles de billard.",
                sizeLabel: "Taille",
                colorLabel: "Couleur",
                bundleTitle: "üéÅ Offres Sp√©ciales üéÅ",
                bundle1: "Achetez 1 pour 350 MAD + Livraison Gratuite",
                bundle2: "Achetez 2 pour 660 MAD + Livraison Gratuite üéÅ",
                bundle3: "Achetez 3 pour 960 MAD + Livraison Gratuite üéÅ",
                save60: "√âconomisez 60 MAD",
                save120: "√âconomisez 120 MAD",
                orderTitle: "Compl√©tez Votre Commande",
                nameLabel: "Nom Complet",
                phoneLabel: "Num√©ro de T√©l√©phone",
                cityLabel: "Ville",
                addressLabel: "Adresse",
                orderButton: "Commander Maintenant - 350 MAD",
                specsTitle: "Sp√©cifications du Produit",
                materialLabel: "Mat√©riau",
                materialValue: "M√©lange de Laine avec Manches en Cuir",
                featuresLabel: "Caract√©ristiques",
                featuresValue: "Dos √† Th√®me Billard, L√©ger",
                careLabel: "Entretien",
                careValue: "Nettoyage √† Sec Seulement",
                warrantyLabel: "Garantie",
                warrantyValue: "1 An Limit√©e",
                clickToZoom: "Cliquez pour zoomer"
            },
            ar: {
                productTitle: "ÿ≥ÿ™ÿ±ÿ© ÿ¨ÿßŸÉÿ± ÿ≥ÿ™ÿßÿ±ÿ™ÿ± ÿÆÿ∂ÿ±ÿßÿ°",
                urgencyText: "ÿ£ÿ≥ÿ±ÿπ! ŸÑŸÖ Ÿäÿ™ÿ®ŸÇ ÿ≥ŸàŸâ 12 ŸÇÿ∑ÿπÿ© ŸÅŸä ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ!",
                viewersText: "7 ÿ£ÿ¥ÿÆÿßÿµ Ÿäÿ¥ÿßŸáÿØŸàŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ¢ŸÜ",
                productDescription: "ÿßÿØÿÆŸÑ ŸÅŸä ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿπ ÿ≥ÿ™ÿ±ÿ© ÿ¨ÿßŸÉÿ± ÿ≥ÿ™ÿßÿ±ÿ™ÿ± ÿÆÿ∂ÿ±ÿßÿ°. ÿ™ÿ™ŸÖŸäÿ≤ ÿ®ÿ™ÿµŸÖŸäŸÖ ÿ¨ÿ±Ÿäÿ° ŸÖÿ≥ÿ™Ÿàÿ≠Ÿâ ŸÖŸÜ ÿßŸÑÿ®ŸÑŸäÿßÿ±ÿØŸà ÿπŸÑŸâ ÿßŸÑÿ∏Ÿáÿ±ÿå Ÿáÿ∞Ÿá ÿßŸÑÿ≥ÿ™ÿ±ÿ© ÿ™ÿ¨ŸÖÿπ ÿ®ŸäŸÜ ÿßŸÑÿ£ŸÜÿßŸÇÿ© ŸàÿßŸÑÿ±ÿßÿ≠ÿ©ÿå ŸÖÿ´ÿßŸÑŸäÿ© ŸÑŸÑÿÆÿ±Ÿàÿ¨ÿßÿ™ ÿßŸÑÿπÿ±ÿ∂Ÿäÿ© Ÿàÿ£ÿ¨Ÿàÿßÿ° ŸÇÿßÿπÿßÿ™ ÿßŸÑÿ®ŸÑŸäÿßÿ±ÿØŸà.",
                sizeLabel: "ÿßŸÑŸÖŸÇÿßÿ≥",
                colorLabel: "ÿßŸÑŸÑŸàŸÜ",
                bundleTitle: "üéÅ ÿπÿ±Ÿàÿ∂ ÿÆÿßÿµÿ© üéÅ",
                bundle1: "ÿßÿ¥ÿ™ÿ± 1 ÿ®ŸÄ 350 ÿØÿ±ŸáŸÖ + ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä",
                bundle2: "ÿßÿ¥ÿ™ÿ± 2 ÿ®ŸÄ 660 ÿØÿ±ŸáŸÖ + ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä üéÅ",
                bundle3: "ÿßÿ¥ÿ™ÿ± 3 ÿ®ŸÄ 960 ÿØÿ±ŸáŸÖ + ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä üéÅ",
                save60: "ŸàŸÅÿ± 60 ÿØÿ±ŸáŸÖ",
                save120: "ŸàŸÅÿ± 120 ÿØÿ±ŸáŸÖ",
                orderTitle: "ÿ£ŸÉŸÖŸÑ ÿ∑ŸÑÿ®ŸÉ",
                nameLabel: "ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ",
                phoneLabel: "ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ",
                cityLabel: "ÿßŸÑŸÖÿØŸäŸÜÿ©",
                addressLabel: "ÿßŸÑÿπŸÜŸàÿßŸÜ",
                orderButton: "ÿßÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜ - 350 ÿØÿ±ŸáŸÖ",
                specsTitle: "ŸÖŸàÿßÿµŸÅÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨",
                materialLabel: "ÿßŸÑŸÖÿßÿØÿ©",
                materialValue: "ÿÆŸÑŸäÿ∑ ÿßŸÑÿµŸàŸÅ ŸÖÿπ ÿ£ŸÉŸÖÿßŸÖ ÿ¨ŸÑÿØŸäÿ©",
                featuresLabel: "ÿßŸÑŸÖŸäÿ≤ÿßÿ™",
                featuresValue: "ÿ∏Ÿáÿ± ŸÖÿ≥ÿ™Ÿàÿ≠Ÿâ ŸÖŸÜ ÿßŸÑÿ®ŸÑŸäÿßÿ±ÿØŸàÿå ÿÆŸÅŸäŸÅ ÿßŸÑŸàÿ≤ŸÜ",
                careLabel: "ÿßŸÑÿπŸÜÿßŸäÿ©",
                careValue: "ÿ™ŸÜÿ∏ŸäŸÅ ÿ¨ÿßŸÅ ŸÅŸÇÿ∑",
                warrantyLabel: "ÿßŸÑÿ∂ŸÖÿßŸÜ",
                warrantyValue: "ÿ≥ŸÜÿ© Ÿàÿßÿ≠ÿØÿ© ŸÖÿ≠ÿØŸàÿØÿ©",
                clickToZoom: "ÿßŸÜŸÇÿ± ŸÑŸÑÿ™ŸÉÿ®Ÿäÿ±"
            }
        };

        // Language functions
        function toggleLanguageMenu() {
            const menu = document.getElementById('languageMenu');
            menu.classList.toggle('active');
        }

        function changeLanguage(lang) {
            const currentLangSpan = document.getElementById('currentLang');
            const menu = document.getElementById('languageMenu');

            currentLangSpan.textContent = lang.toUpperCase();
            menu.classList.remove('active');

            // Update HTML attributes
            document.documentElement.lang = lang;
            if (lang === 'ar') {
                document.documentElement.dir = 'rtl';
            } else {
                document.documentElement.dir = 'ltr';
            }

            // Update content
            const translation = translations[lang];
            if (translation) {
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translation[key]) {
                        element.textContent = translation[key];
                    }
                });
                updateOrderButton();
            }

            localStorage.setItem('selectedLanguage', lang);
        }

        // Product functions
        function changeMainImage(thumbnail, index) {
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            thumbnail.classList.add('active');

            const mainImage = document.getElementById('mainImage');
            const imageData = productImages[index];
            mainImage.src = thumbnail.getAttribute('data-src');
            mainImage.alt = imageData.alt;

            currentImageIndex = index;
            document.querySelector('.main-image-container').setAttribute('onclick', `openZoom(${index})`);
        }

        function selectSize(sizeElement) {
            document.querySelectorAll('.size-option').forEach(size => {
                size.classList.remove('active');
            });
            sizeElement.classList.add('active');
        }

        function selectColor(colorElement) {
            document.querySelectorAll('.color-option').forEach(color => {
                color.classList.remove('active');
            });
            colorElement.classList.add('active');
        }

        function selectBundle(bundleElement) {
            document.querySelectorAll('.bundle-option').forEach(option => {
                option.classList.remove('active');
            });
            bundleElement.classList.add('active');

            selectedBundle.price = parseInt(bundleElement.dataset.price);
            selectedBundle.quantity = parseInt(bundleElement.dataset.quantity);

            updateOrderButton();
        }

        function updateOrderButton() {
            const orderBtn = document.getElementById('orderBtn');
            const currentLang = document.documentElement.lang || 'en';

            let buttonText = `Order Now - ${selectedBundle.price} MAD`;
            if (currentLang === 'fr') {
                buttonText = `Commander Maintenant - ${selectedBundle.price} MAD`;
            } else if (currentLang === 'ar') {
                buttonText = `ÿßÿ∑ŸÑÿ® ÿßŸÑÿ¢ŸÜ - ${selectedBundle.price} ÿØÿ±ŸáŸÖ`;
            }

            orderBtn.querySelector('span').textContent = buttonText;
        }

        // Zoom functions
        function openZoom(index) {
            currentImageIndex = index;
            const modal = document.getElementById('zoomModal');
            const zoomImage = document.getElementById('zoomImage');
            const counter = document.getElementById('zoomCounter');

            const imageData = productImages[currentImageIndex];
            zoomImage.src = imageData.src;
            zoomImage.alt = imageData.alt;
            counter.textContent = `${currentImageIndex + 1} / ${productImages.length}`;

            // Reset zoom
            zoomLevel = 1;
            translateX = 0;
            translateY = 0;
            updateZoomTransform();

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeZoom(event) {
            if (event && event.target.classList.contains('zoom-image')) {
                return;
            }

            const modal = document.getElementById('zoomModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function zoomIn() {
            zoomLevel = Math.min(3, zoomLevel + 0.3);
            updateZoomTransform();
        }

        function zoomOut() {
            zoomLevel = Math.max(0.5, zoomLevel - 0.3);
            if (zoomLevel <= 1) {
                translateX = 0;
                translateY = 0;
            }
            updateZoomTransform();
        }

        function prevZoomImage() {
            currentImageIndex = currentImageIndex > 0 ? currentImageIndex - 1 : productImages.length - 1;
            updateZoomImage();
        }

        function nextZoomImage() {
            currentImageIndex = currentImageIndex < productImages.length - 1 ? currentImageIndex + 1 : 0;
            updateZoomImage();
        }

        function updateZoomImage() {
            const zoomImage = document.getElementById('zoomImage');
            const counter = document.getElementById('zoomCounter');
            const imageData = productImages[currentImageIndex];

            zoomImage.src = imageData.src;
            zoomImage.alt = imageData.alt;
            counter.textContent = `${currentImageIndex + 1} / ${productImages.length}`;

            // Reset zoom
            zoomLevel = 1;
            translateX = 0;
            translateY = 0;
            updateZoomTransform();
        }

        function updateZoomTransform() {
            const zoomImage = document.getElementById('zoomImage');
            zoomImage.style.transform = `scale(${zoomLevel}) translate(${translateX}px, ${translateY}px)`;

            if (zoomLevel > 1) {
                zoomImage.classList.add('zoomed');
            } else {
                zoomImage.classList.remove('zoomed');
            }
        }

        // Form submission
        function submitOrder() {
            const form = document.getElementById('orderForm');
            const inputs = form.querySelectorAll('input[required]');
            let isValid = true;

            inputs.forEach(input => {
                if (!input.value.trim()) {
                    isValid = false;
                    input.style.borderColor = '#ef4444';
                } else {
                    input.style.borderColor = '';
                }
            });

            if (isValid) {
                alert('Order submitted successfully!');
                inputs.forEach(input => (input.value = ''));
            } else {
                alert('Please fill in all required fields.');
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function () {
            // Load saved language
            const savedLang = localStorage.getItem('selectedLanguage');
            if (savedLang && translations[savedLang]) {
                changeLanguage(savedLang);
            }

            // Close language menu when clicking outside
            document.addEventListener('click', function (e) {
                const languageDropdown = document.querySelector('.language-dropdown');
                if (!languageDropdown.contains(e.target)) {
                    document.getElementById('languageMenu').classList.remove('active');
                }
            });

            // Zoom modal event listeners
            const zoomModal = document.getElementById('zoomModal');
            const zoomImage = document.getElementById('zoomImage');

            // Mouse wheel zoom
            zoomModal.addEventListener('wheel', function (e) {
                e.preventDefault();
                const delta = e.deltaY > 0 ? -0.2 : 0.2;
                zoomLevel = Math.max(0.5, Math.min(3, zoomLevel + delta));
                updateZoomTransform();
            });

            // Drag functionality
            zoomImage.addEventListener('mousedown', function (e) {
                if (zoomLevel > 1) {
                    isDragging = true;
                    startX = e.clientX - translateX;
                    startY = e.clientY - translateY;
                    e.preventDefault();
                }
            });

            document.addEventListener('mousemove', function (e) {
                if (isDragging && zoomLevel > 1) {
                    translateX = e.clientX - startX;
                    translateY = e.clientY - startY;
                    updateZoomTransform();
                }
            });

            document.addEventListener('mouseup', function () {
                isDragging = false;
            });

            // Touch support for mobile
            let touchStartX = 0;
            let touchStartY = 0;

            zoomImage.addEventListener('touchstart', function (e) {
                if (zoomLevel > 1) {
                    isDragging = true;
                    const touch = e.touches[0];
                    touchStartX = touch.clientX - translateX;
                    touchStartY = touch.clientY - translateY;
                    e.preventDefault();
                }
            });

            zoomImage.addEventListener('touchmove', function (e) {
                if (isDragging && zoomLevel > 1) {
                    const touch = e.touches[0];
                    translateX = touch.clientX - touchStartX;
                    translateY = touch.clientY - touchStartY;
                    updateZoomTransform();
                    e.preventDefault();
                }
            });

            zoomImage.addEventListener('touchend', function () {
                isDragging = false;
            });

            // Keyboard navigation
            document.addEventListener('keydown', function (e) {
                const modal = document.getElementById('zoomModal');
                if (modal.classList.contains('active')) {
                    switch (e.key) {
                        case 'Escape':
                            closeZoom();
                            break;
                        case 'ArrowLeft':
                            prevZoomImage();
                            break;
                        case 'ArrowRight':
                            nextZoomImage();
                            break;
                        case '+':
                        case '=':
                            zoomIn();
                            break;
                        case '-':
                            zoomOut();
                            break;
                    }
                }
            });
        });
    </script>
</body>

</html>